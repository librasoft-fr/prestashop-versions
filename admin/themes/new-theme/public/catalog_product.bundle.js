/*! For license information please see catalog_product.bundle.js.LICENSE.txt */
(()=>{var e={80559:(e,i,t)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=o(t(99663)),c=o(t(22600));function o(e){return e&&e.__esModule?e:{default:e}}var n=window.$,a=function(){function e(){(0,r.default)(this,e),this.prefixCreateForm="form_step2_specific_price_",this.prefixEditForm="form_modal_",this.editModalIsOpen=!1,this.$createPriceFormDefaultValues={},this.storePriceFormDefaultValues(),this.loadAndDisplayExistingSpecificPricesList(),this.configureAddPriceFormBehavior(),this.configureEditPriceModalBehavior(),this.configureDeletePriceButtonsBehavior(),this.configureMultipleModalsBehavior()}return(0,c.default)(e,[{key:"loadAndDisplayExistingSpecificPricesList",value:function(){var e=this,i=n("#js-specific-price-list"),t=i.data("listingUrl").replace(/list\/\d+/,"list/"+this.getProductId());n.ajax({type:"GET",url:t}).done((function(t){var r=i.find("tbody");r.find("tr").remove(),t.length>0?i.removeClass("hide"):i.addClass("hide");var c=e.renderSpecificPricesListingAsHtml(t);r.append(c)}))}},{key:"renderSpecificPricesListingAsHtml",value:function(e){var i="",t=this;return n.each(e,(function(e,r){var c=n("#js-specific-price-list").attr("data-action-delete").replace(/delete\/\d+/,"delete/"+r.id_specific_price),o=t.renderSpecificPriceRow(r,c);i+=o})),i}},{key:"renderSpecificPriceRow",value:function(e,i){var t=e.id_specific_price,r=e.can_delete?'<a href="'+i+'" class="js-delete delete btn tooltip-link delete pl-0 pr-0"><i class="material-icons">delete</i></a>':"",c=e.can_edit?'<a href="#" data-specific-price-id="'+t+'" class="js-edit edit btn tooltip-link delete pl-0 pr-0"><i class="material-icons">edit</i></a>':"";return"<tr>     <td>"+e.id_specific_price+"</td>     <td>"+e.rule_name+"</td>     <td>"+e.attributes_name+"</td>     <td>"+e.currency+"</td>     <td>"+e.country+"</td>     <td>"+e.group+"</td>     <td>"+e.customer+"</td>     <td>"+e.fixed_price+"</td>     <td>"+e.impact+"</td>     <td>"+e.period+"</td>     <td>"+e.from_quantity+"</td>     <td>"+r+"</td>     <td>"+c+"</td></tr>"}},{key:"configureAddPriceFormBehavior",value:function(){var e=this,i=!0,t=this.getPrefixSelector(i);n("#specific_price_form .js-cancel").click((function(){e.resetCreatePriceFormDefaultValues(),n("#specific_price_form").collapse("hide")})),n("#specific_price_form .js-save").on("click",(function(){return e.submitCreatePriceForm()})),n("#js-open-create-specific-price-form").on("click",(function(){return e.loadAndFillOptionsForSelectCombinationInput(i)})),n(t+"leave_bprice").on("click",(function(){return e.enableSpecificPriceFieldIfEligible(i)})),n(t+"sp_reduction_type").on("change",(function(){return e.enableSpecificPriceTaxFieldIfEligible(i)}))}},{key:"configureEditPriceFormInsideModalBehavior",value:function(){var e=this,i=!1,t=this.getPrefixSelector(i);n("#form_modal_cancel").click((function(){return e.closeEditPriceModalAndRemoveForm()})),n("#form_modal_close").click((function(){return e.closeEditPriceModalAndRemoveForm()})),n("#form_modal_save").click((function(){return e.submitEditPriceForm()})),this.loadAndFillOptionsForSelectCombinationInput(i),n(t+"leave_bprice").on("click",(function(){return e.enableSpecificPriceFieldIfEligible(i)})),n(t+"sp_reduction_type").on("change",(function(){return e.enableSpecificPriceTaxFieldIfEligible(i)})),this.reinitializeDatePickers(),this.initializeLeaveBPriceField(i),this.enableSpecificPriceTaxFieldIfEligible(i)}},{key:"reinitializeDatePickers",value:function(){n(".datepicker input").datetimepicker({format:"YYYY-MM-DD"})}},{key:"initializeLeaveBPriceField",value:function(e){var i=this.getPrefixSelector(e);""!==n(i+"sp_price").val()&&(n(i+"sp_price").prop("disabled",!1),n(i+"leave_bprice").prop("checked",!1))}},{key:"configureEditPriceModalBehavior",value:function(){var e=this;n(document).on("click","#js-specific-price-list .js-edit",(function(i){i.preventDefault();var t=n(i.currentTarget).data("specificPriceId");e.openEditPriceModalAndLoadForm(t)}))}},{key:"configureDeletePriceButtonsBehavior",value:function(){var e=this;n(document).on("click","#js-specific-price-list .js-delete",(function(i){i.preventDefault(),e.deleteSpecificPrice(i.currentTarget)}))}},{key:"configureMultipleModalsBehavior",value:function(){var e=this;n(".modal").on("hidden.bs.modal",(function(){e.editModalIsOpen&&n("body").addClass("modal-open")}))}},{key:"submitCreatePriceForm",value:function(){var e=this,i=n("#specific_price_form").attr("data-action"),t=n("#specific_price_form input, #specific_price_form select, #form_id_product").serialize();n("#specific_price_form .js-save").attr("disabled","disabled"),n.ajax({type:"POST",url:i,data:t}).done((function(){window.showSuccessMessage(window.translate_javascripts["Form update success"]),e.resetCreatePriceFormDefaultValues(),n("#specific_price_form").collapse("hide"),e.loadAndDisplayExistingSpecificPricesList(),n("#specific_price_form .js-save").removeAttr("disabled")})).fail((function(e){window.showErrorMessage(e.responseJSON),n("#specific_price_form .js-save").removeAttr("disabled")}))}},{key:"submitEditPriceForm",value:function(){var e=this,i=n("#edit-specific-price-modal-form").attr("data-action"),t=n("#edit-specific-price-modal-form").data("specificPriceId"),r=i.replace(/update\/\d+/,"update/"+t),c=n("#edit-specific-price-modal-form input, #edit-specific-price-modal-form select, #form_id_product").serialize();n("#edit-specific-price-modal-form .js-save").attr("disabled","disabled"),n.ajax({type:"POST",url:r,data:c}).done((function(){window.showSuccessMessage(window.translate_javascripts["Form update success"]),e.closeEditPriceModalAndRemoveForm(),e.loadAndDisplayExistingSpecificPricesList(),n("#edit-specific-price-modal-form .js-save").removeAttr("disabled")})).fail((function(e){window.showErrorMessage(e.responseJSON),n("#edit-specific-price-modal-form .js-save").removeAttr("disabled")}))}},{key:"deleteSpecificPrice",value:function(e){var i=this;window.modalConfirmation.create(window.translate_javascripts["Are you sure you want to delete this item?"],null,{onContinue:function(){var t=n(e).attr("href");n(e).attr("disabled","disabled"),n.ajax({type:"GET",url:t}).done((function(t){i.loadAndDisplayExistingSpecificPricesList(),window.showSuccessMessage(t),n(e).removeAttr("disabled")})).fail((function(i){window.showErrorMessage(i.responseJSON),n(e).removeAttr("disabled")}))}}).show()}},{key:"storePriceFormDefaultValues",value:function(){var e=this.$createPriceFormDefaultValues;n("#specific_price_form").find("select,input").each((function(i,t){e[n(t).attr("id")]=n(t).val()})),n("#specific_price_form").find("input:checkbox").each((function(i,t){e[n(t).attr("id")]=n(t).prop("checked")})),this.$createPriceFormDefaultValues=e}},{key:"loadAndFillOptionsForSelectCombinationInput",value:function(e){var i=this.getPrefixSelector(e),t=n(i+"sp_id_product_attribute"),r=t.attr("data-action").replace(/product-combinations\/\d+/,"product-combinations/"+this.getProductId());n.ajax({type:"GET",url:r}).done((function(e){t.find("option:gt(0)").remove(),n.each(e,(function(e,i){t.append('<option value="'+i.id+'">'+i.name+"</option>")})),"0"!==t.data("selectedAttribute")&&t.val(t.data("selectedAttribute")).trigger("change")}))}},{key:"enableSpecificPriceTaxFieldIfEligible",value:function(e){var i=this.getPrefixSelector(e);"percentage"===n(i+"sp_reduction_type").val()?n(i+"sp_reduction_tax").hide():n(i+"sp_reduction_tax").show()}},{key:"resetCreatePriceFormDefaultValues",value:function(){var e=this.$createPriceFormDefaultValues;n("#specific_price_form").find("input").each((function(i,t){n(t).val(e[n(t).attr("id")])})),n("#specific_price_form").find("select").each((function(i,t){n(t).val(e[n(t).attr("id")]).change()})),n("#specific_price_form").find("input:checkbox").each((function(e,i){n(i).prop("checked",!0)}))}},{key:"enableSpecificPriceFieldIfEligible",value:function(e){var i=this.getPrefixSelector(e);n(i+"sp_price").prop("disabled",n(i+"leave_bprice").is(":checked")).val("")}},{key:"openEditPriceModalAndLoadForm",value:function(e){var i=this,t=n("#js-specific-price-list").data("actionEdit").replace(/form\/\d+/,"form/"+e);n("#edit-specific-price-modal").modal("show"),this.editModalIsOpen=!0,n.ajax({type:"GET",url:t}).done((function(t){i.insertEditSpecificPriceFormIntoModal(t),n("#edit-specific-price-modal-form").data("specificPriceId",e),i.configureEditPriceFormInsideModalBehavior()})).fail((function(e){window.showErrorMessage(e.responseJSON)}))}},{key:"closeEditPriceModalAndRemoveForm",value:function(){n("#edit-specific-price-modal").modal("hide"),this.editModalIsOpen=!1,n("#edit-specific-price-modal-form").empty()}},{key:"insertEditSpecificPriceFormIntoModal",value:function(e){var i=n("#edit-specific-price-modal-form");i.empty(),i.append(e)}},{key:"getProductId",value:function(){return n("#form_id_product").val()}},{key:"getPrefixSelector",value:function(e){return e?"#"+this.prefixCreateForm:"#"+this.prefixEditForm}}]),e}();i.default=a},32242:(e,i,t)=>{e.exports={default:t(33391),__esModule:!0}},99663:(e,i)=>{"use strict";i.__esModule=!0,i.default=function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}},22600:(e,i,t)=>{"use strict";i.__esModule=!0;var r,c=(r=t(32242))&&r.__esModule?r:{default:r};i.default=function(){function e(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,c.default)(e,r.key,r)}}return function(i,t,r){return t&&e(i.prototype,t),r&&e(i,r),i}}()},33391:(e,i,t)=>{t(31477);var r=t(34579).Object;e.exports=function(e,i,t){return r.defineProperty(e,i,t)}},85663:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},12159:(e,i,t)=>{var r=t(36727);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},34579:e=>{var i=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=i)},19216:(e,i,t)=>{var r=t(85663);e.exports=function(e,i,t){if(r(e),void 0===i)return e;switch(t){case 1:return function(t){return e.call(i,t)};case 2:return function(t,r){return e.call(i,t,r)};case 3:return function(t,r,c){return e.call(i,t,r,c)}}return function(){return e.apply(i,arguments)}}},89666:(e,i,t)=>{e.exports=!t(7929)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},97467:(e,i,t)=>{var r=t(36727),c=t(33938).document,o=r(c)&&r(c.createElement);e.exports=function(e){return o?c.createElement(e):{}}},83856:(e,i,t)=>{var r=t(33938),c=t(34579),o=t(19216),n=t(41818),a=t(27069),s=function(e,i,t){var d,l,u,f=e&s.F,p=e&s.G,m=e&s.S,v=e&s.P,h=e&s.B,_=e&s.W,y=p?c:c[i]||(c[i]={}),P=y.prototype,b=p?r:m?r[i]:(r[i]||{}).prototype;for(d in p&&(t=i),t)(l=!f&&b&&void 0!==b[d])&&a(y,d)||(u=l?b[d]:t[d],y[d]=p&&"function"!=typeof b[d]?t[d]:h&&l?o(u,r):_&&b[d]==u?function(e){var i=function(i,t,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(i);case 2:return new e(i,t)}return new e(i,t,r)}return e.apply(this,arguments)};return i.prototype=e.prototype,i}(u):v&&"function"==typeof u?o(Function.call,u):u,v&&((y.virtual||(y.virtual={}))[d]=u,e&s.R&&P&&!P[d]&&n(P,d,u)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},7929:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},33938:e=>{var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},27069:e=>{var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},41818:(e,i,t)=>{var r=t(4743),c=t(83101);e.exports=t(89666)?function(e,i,t){return r.f(e,i,c(1,t))}:function(e,i,t){return e[i]=t,e}},33758:(e,i,t)=>{e.exports=!t(89666)&&!t(7929)((function(){return 7!=Object.defineProperty(t(97467)("div"),"a",{get:function(){return 7}}).a}))},36727:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},4743:(e,i,t)=>{var r=t(12159),c=t(33758),o=t(33206),n=Object.defineProperty;i.f=t(89666)?Object.defineProperty:function(e,i,t){if(r(e),i=o(i,!0),r(t),c)try{return n(e,i,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[i]=t.value),e}},83101:e=>{e.exports=function(e,i){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:i}}},33206:(e,i,t)=>{var r=t(36727);e.exports=function(e,i){if(!r(e))return e;var t,c;if(i&&"function"==typeof(t=e.toString)&&!r(c=t.call(e)))return c;if("function"==typeof(t=e.valueOf)&&!r(c=t.call(e)))return c;if(!i&&"function"==typeof(t=e.toString)&&!r(c=t.call(e)))return c;throw TypeError("Can't convert object to primitive value")}},31477:(e,i,t)=>{var r=t(83856);r(r.S+r.F*!t(89666),"Object",{defineProperty:t(4743).f})}},i={};function t(r){var c=i[r];if(void 0!==c)return c.exports;var o=i[r]={exports:{}};return e[r](o,o.exports,t),o.exports}(()=>{"use strict";var e,i=(e=t(80559))&&e.__esModule?e:{default:e};(0,window.$)((function(){new i.default}))})(),window.catalog_product={}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9qcy9wYWdlcy9jYXRhbG9nL3Byb2R1Y3Qvc3BlY2lmaWMtcHJpY2UtZm9ybS1oYW5kbGVyLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL1tuYW1lXS8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FuLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcC5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb3BlcnR5LWRlc2MuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL1tuYW1lXS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9qcy9wYWdlcy9jYXRhbG9nL3Byb2R1Y3QvaW5kZXguanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsIlNwZWNpZmljUHJpY2VGb3JtSGFuZGxlciIsInRoaXMiLCJwcmVmaXhDcmVhdGVGb3JtIiwicHJlZml4RWRpdEZvcm0iLCJlZGl0TW9kYWxJc09wZW4iLCIkY3JlYXRlUHJpY2VGb3JtRGVmYXVsdFZhbHVlcyIsInN0b3JlUHJpY2VGb3JtRGVmYXVsdFZhbHVlcyIsImxvYWRBbmREaXNwbGF5RXhpc3RpbmdTcGVjaWZpY1ByaWNlc0xpc3QiLCJjb25maWd1cmVBZGRQcmljZUZvcm1CZWhhdmlvciIsImNvbmZpZ3VyZUVkaXRQcmljZU1vZGFsQmVoYXZpb3IiLCJjb25maWd1cmVEZWxldGVQcmljZUJ1dHRvbnNCZWhhdmlvciIsImNvbmZpZ3VyZU11bHRpcGxlTW9kYWxzQmVoYXZpb3IiLCJsaXN0Q29udGFpbmVyIiwidXJsIiwiZGF0YSIsInJlcGxhY2UiLCJnZXRQcm9kdWN0SWQiLCJhamF4IiwidHlwZSIsImRvbmUiLCJzcGVjaWZpY1ByaWNlcyIsInRib2R5IiwiZmluZCIsInJlbW92ZSIsImxlbmd0aCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJzcGVjaWZpY1ByaWNlc0xpc3QiLCJyZW5kZXJTcGVjaWZpY1ByaWNlc0xpc3RpbmdBc0h0bWwiLCJhcHBlbmQiLCJzZWxmIiwiZWFjaCIsImluZGV4Iiwic3BlY2lmaWNQcmljZSIsImRlbGV0ZVVybCIsImF0dHIiLCJpZF9zcGVjaWZpY19wcmljZSIsInJvdyIsInJlbmRlclNwZWNpZmljUHJpY2VSb3ciLCJzcGVjaWZpY1ByaWNlSWQiLCJjYW5EZWxldGUiLCJjYW5fZGVsZXRlIiwiY2FuRWRpdCIsImNhbl9lZGl0IiwicnVsZV9uYW1lIiwiYXR0cmlidXRlc19uYW1lIiwiY3VycmVuY3kiLCJjb3VudHJ5IiwiZ3JvdXAiLCJjdXN0b21lciIsImZpeGVkX3ByaWNlIiwiaW1wYWN0IiwicGVyaW9kIiwiZnJvbV9xdWFudGl0eSIsInVzZVByZWZpeEZvckNyZWF0ZSIsInNlbGVjdG9yUHJlZml4IiwiZ2V0UHJlZml4U2VsZWN0b3IiLCJjbGljayIsInJlc2V0Q3JlYXRlUHJpY2VGb3JtRGVmYXVsdFZhbHVlcyIsImNvbGxhcHNlIiwib24iLCJzdWJtaXRDcmVhdGVQcmljZUZvcm0iLCJsb2FkQW5kRmlsbE9wdGlvbnNGb3JTZWxlY3RDb21iaW5hdGlvbklucHV0IiwiZW5hYmxlU3BlY2lmaWNQcmljZUZpZWxkSWZFbGlnaWJsZSIsImVuYWJsZVNwZWNpZmljUHJpY2VUYXhGaWVsZElmRWxpZ2libGUiLCJjbG9zZUVkaXRQcmljZU1vZGFsQW5kUmVtb3ZlRm9ybSIsInN1Ym1pdEVkaXRQcmljZUZvcm0iLCJyZWluaXRpYWxpemVEYXRlUGlja2VycyIsImluaXRpYWxpemVMZWF2ZUJQcmljZUZpZWxkIiwiZGF0ZXRpbWVwaWNrZXIiLCJmb3JtYXQiLCJ2YWwiLCJwcm9wIiwiZG9jdW1lbnQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiY3VycmVudFRhcmdldCIsIm9wZW5FZGl0UHJpY2VNb2RhbEFuZExvYWRGb3JtIiwiZGVsZXRlU3BlY2lmaWNQcmljZSIsInNlcmlhbGl6ZSIsInNob3dTdWNjZXNzTWVzc2FnZSIsInRyYW5zbGF0ZV9qYXZhc2NyaXB0cyIsInJlbW92ZUF0dHIiLCJmYWlsIiwiZXJyb3JzIiwic2hvd0Vycm9yTWVzc2FnZSIsInJlc3BvbnNlSlNPTiIsImJhc2VVcmwiLCJjbGlja2VkTGluayIsIm1vZGFsQ29uZmlybWF0aW9uIiwiY3JlYXRlIiwib25Db250aW51ZSIsInJlc3BvbnNlIiwic2hvdyIsInN0b3JhZ2UiLCJ2YWx1ZSIsImlucHV0RmllbGQiLCJjb21iaW5hdGlvbnMiLCJjb21iaW5hdGlvbiIsImlkIiwibmFtZSIsInRyaWdnZXIiLCJoaWRlIiwicHJldmlvdXNseVN0b3JlZFZhbHVlcyIsImNoYW5nZSIsImlzIiwibW9kYWwiLCJpbnNlcnRFZGl0U3BlY2lmaWNQcmljZUZvcm1JbnRvTW9kYWwiLCJjb25maWd1cmVFZGl0UHJpY2VGb3JtSW5zaWRlTW9kYWxCZWhhdmlvciIsImVtcHR5IiwiZm9ybSIsImZvcm1Mb2NhdGlvbkhvbGRlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJvYmoiLCJfZGVmaW5lUHJvcGVydHkyIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCIkT2JqZWN0IiwiaXQiLCJkZXNjIiwiZGVmaW5lUHJvcGVydHkiLCJpc09iamVjdCIsImNvcmUiLCJ2ZXJzaW9uIiwiX19lIiwiYUZ1bmN0aW9uIiwiZm4iLCJ0aGF0IiwidW5kZWZpbmVkIiwiYSIsImNhbGwiLCJiIiwiYyIsImFwcGx5IiwiYXJndW1lbnRzIiwiT2JqZWN0IiwiZ2V0IiwiY3JlYXRlRWxlbWVudCIsImdsb2JhbCIsImN0eCIsImhhcyIsIiRleHBvcnQiLCJzb3VyY2UiLCJvd24iLCJvdXQiLCJJU19GT1JDRUQiLCJGIiwiSVNfR0xPQkFMIiwiRyIsIklTX1NUQVRJQyIsIlMiLCJJU19QUk9UTyIsIlAiLCJJU19CSU5EIiwiQiIsIklTX1dSQVAiLCJXIiwiZXhwUHJvdG8iLCJDIiwiRnVuY3Rpb24iLCJ2aXJ0dWFsIiwiUiIsIlUiLCJleGVjIiwiZSIsIk1hdGgiLCJfX2ciLCJoYXNPd25Qcm9wZXJ0eSIsImRQIiwiY3JlYXRlRGVzYyIsIm9iamVjdCIsImYiLCJhbk9iamVjdCIsIklFOF9ET01fREVGSU5FIiwidG9QcmltaXRpdmUiLCJPIiwiQXR0cmlidXRlcyIsImJpdG1hcCIsInRvU3RyaW5nIiwidmFsdWVPZiIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iXSwibWFwcGluZ3MiOiI7a0xBeUJPQSxFQUFLQyxPQUFMRCxFQUVERSxFLFdBQ0osY0FBYyxxQkFDWkMsS0FBS0MsaUJBQW1C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LG1CQ0lmLEksT0FBQSxXLDRCQUlBbkgsRUFGWUMsT0FBTEQsSUFFTCxXQUNBLElBQUlFLGMiLCJmaWxlIjoiY2F0YWxvZ19wcm9kdWN0LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cblxuY29uc3QgeyR9ID0gd2luZG93O1xuXG5jbGFzcyBTcGVjaWZpY1ByaWNlRm9ybUhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnByZWZpeENyZWF0ZUZvcm0gPSAnZm9ybV9zdGVwMl9zcGVjaWZpY19wcmljZV8nO1xuICAgIHRoaXMucHJlZml4RWRpdEZvcm0gPSAnZm9ybV9tb2RhbF8nO1xuICAgIHRoaXMuZWRpdE1vZGFsSXNPcGVuID0gZmFsc2U7XG5cbiAgICB0aGlzLiRjcmVhdGVQcmljZUZvcm1EZWZhdWx0VmFsdWVzID0ge307XG4gICAgdGhpcy5zdG9yZVByaWNlRm9ybURlZmF1bHRWYWx1ZXMoKTtcblxuICAgIHRoaXMubG9hZEFuZERpc3BsYXlFeGlzdGluZ1NwZWNpZmljUHJpY2VzTGlzdCgpO1xuXG4gICAgdGhpcy5jb25maWd1cmVBZGRQcmljZUZvcm1CZWhhdmlvcigpO1xuXG4gICAgdGhpcy5jb25maWd1cmVFZGl0UHJpY2VNb2RhbEJlaGF2aW9yKCk7XG5cbiAgICB0aGlzLmNvbmZpZ3VyZURlbGV0ZVByaWNlQnV0dG9uc0JlaGF2aW9yKCk7XG5cbiAgICB0aGlzLmNvbmZpZ3VyZU11bHRpcGxlTW9kYWxzQmVoYXZpb3IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbG9hZEFuZERpc3BsYXlFeGlzdGluZ1NwZWNpZmljUHJpY2VzTGlzdCgpIHtcbiAgICBjb25zdCBsaXN0Q29udGFpbmVyID0gJCgnI2pzLXNwZWNpZmljLXByaWNlLWxpc3QnKTtcbiAgICBjb25zdCB1cmwgPSBsaXN0Q29udGFpbmVyLmRhdGEoJ2xpc3RpbmdVcmwnKS5yZXBsYWNlKC9saXN0XFwvXFxkKy8sIGBsaXN0LyR7dGhpcy5nZXRQcm9kdWN0SWQoKX1gKTtcblxuICAgICQuYWpheCh7XG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHVybCxcbiAgICB9KVxuICAgICAgLmRvbmUoKHNwZWNpZmljUHJpY2VzKSA9PiB7XG4gICAgICAgIGNvbnN0IHRib2R5ID0gbGlzdENvbnRhaW5lci5maW5kKCd0Ym9keScpO1xuICAgICAgICB0Ym9keS5maW5kKCd0cicpLnJlbW92ZSgpO1xuXG4gICAgICAgIGlmIChzcGVjaWZpY1ByaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGlzdENvbnRhaW5lci5yZW1vdmVDbGFzcygnaGlkZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpc3RDb250YWluZXIuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNwZWNpZmljUHJpY2VzTGlzdCA9IHRoaXMucmVuZGVyU3BlY2lmaWNQcmljZXNMaXN0aW5nQXNIdG1sKHNwZWNpZmljUHJpY2VzKTtcblxuICAgICAgICB0Ym9keS5hcHBlbmQoc3BlY2lmaWNQcmljZXNMaXN0KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBhcnJheSBzcGVjaWZpY1ByaWNlc1xuICAgKlxuICAgKiBAcmV0dXJucyBzdHJpbmdcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlbmRlclNwZWNpZmljUHJpY2VzTGlzdGluZ0FzSHRtbChzcGVjaWZpY1ByaWNlcykge1xuICAgIGxldCBzcGVjaWZpY1ByaWNlc0xpc3QgPSAnJztcblxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgJC5lYWNoKHNwZWNpZmljUHJpY2VzLCAoaW5kZXgsIHNwZWNpZmljUHJpY2UpID0+IHtcbiAgICAgIGNvbnN0IGRlbGV0ZVVybCA9ICQoJyNqcy1zcGVjaWZpYy1wcmljZS1saXN0JylcbiAgICAgICAgLmF0dHIoJ2RhdGEtYWN0aW9uLWRlbGV0ZScpXG4gICAgICAgIC5yZXBsYWNlKC9kZWxldGVcXC9cXGQrLywgYGRlbGV0ZS8ke3NwZWNpZmljUHJpY2UuaWRfc3BlY2lmaWNfcHJpY2V9YCk7XG4gICAgICBjb25zdCByb3cgPSBzZWxmLnJlbmRlclNwZWNpZmljUHJpY2VSb3coc3BlY2lmaWNQcmljZSwgZGVsZXRlVXJsKTtcblxuICAgICAgc3BlY2lmaWNQcmljZXNMaXN0ICs9IHJvdztcbiAgICB9KTtcblxuICAgIHJldHVybiBzcGVjaWZpY1ByaWNlc0xpc3Q7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIE9iamVjdCBzcGVjaWZpY1ByaWNlXG4gICAqIEBwYXJhbSBzdHJpbmcgZGVsZXRlVXJsXG4gICAqXG4gICAqIEByZXR1cm5zIHN0cmluZ1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVuZGVyU3BlY2lmaWNQcmljZVJvdyhzcGVjaWZpY1ByaWNlLCBkZWxldGVVcmwpIHtcbiAgICBjb25zdCBzcGVjaWZpY1ByaWNlSWQgPSBzcGVjaWZpY1ByaWNlLmlkX3NwZWNpZmljX3ByaWNlO1xuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgIGNvbnN0IGNhbkRlbGV0ZSA9IHNwZWNpZmljUHJpY2UuY2FuX2RlbGV0ZVxuICAgICAgPyBgPGEgaHJlZj1cIiR7ZGVsZXRlVXJsfVwiIGNsYXNzPVwianMtZGVsZXRlIGRlbGV0ZSBidG4gdG9vbHRpcC1saW5rIGRlbGV0ZSBwbC0wIHByLTBcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZGVsZXRlPC9pPjwvYT5gXG4gICAgICA6ICcnO1xuICAgIGNvbnN0IGNhbkVkaXQgPSBzcGVjaWZpY1ByaWNlLmNhbl9lZGl0XG4gICAgICA/IGA8YSBocmVmPVwiI1wiIGRhdGEtc3BlY2lmaWMtcHJpY2UtaWQ9XCIke3NwZWNpZmljUHJpY2VJZH1cIiBjbGFzcz1cImpzLWVkaXQgZWRpdCBidG4gdG9vbHRpcC1saW5rIGRlbGV0ZSBwbC0wIHByLTBcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZWRpdDwvaT48L2E+YFxuICAgICAgOiAnJztcbiAgICBjb25zdCByb3cgPSBgPHRyPiBcXFxuICAgIDx0ZD4ke3NwZWNpZmljUHJpY2UuaWRfc3BlY2lmaWNfcHJpY2V9PC90ZD4gXFxcbiAgICA8dGQ+JHtzcGVjaWZpY1ByaWNlLnJ1bGVfbmFtZX08L3RkPiBcXFxuICAgIDx0ZD4ke3NwZWNpZmljUHJpY2UuYXR0cmlidXRlc19uYW1lfTwvdGQ+IFxcXG4gICAgPHRkPiR7c3BlY2lmaWNQcmljZS5jdXJyZW5jeX08L3RkPiBcXFxuICAgIDx0ZD4ke3NwZWNpZmljUHJpY2UuY291bnRyeX08L3RkPiBcXFxuICAgIDx0ZD4ke3NwZWNpZmljUHJpY2UuZ3JvdXB9PC90ZD4gXFxcbiAgICA8dGQ+JHtzcGVjaWZpY1ByaWNlLmN1c3RvbWVyfTwvdGQ+IFxcXG4gICAgPHRkPiR7c3BlY2lmaWNQcmljZS5maXhlZF9wcmljZX08L3RkPiBcXFxuICAgIDx0ZD4ke3NwZWNpZmljUHJpY2UuaW1wYWN0fTwvdGQ+IFxcXG4gICAgPHRkPiR7c3BlY2lmaWNQcmljZS5wZXJpb2R9PC90ZD4gXFxcbiAgICA8dGQ+JHtzcGVjaWZpY1ByaWNlLmZyb21fcXVhbnRpdHl9PC90ZD4gXFxcbiAgICA8dGQ+JHtjYW5EZWxldGV9PC90ZD4gXFxcbiAgICA8dGQ+JHtjYW5FZGl0fTwvdGQ+PC90cj5gO1xuICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG4gICAgcmV0dXJuIHJvdztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uZmlndXJlQWRkUHJpY2VGb3JtQmVoYXZpb3IoKSB7XG4gICAgY29uc3QgdXNlUHJlZml4Rm9yQ3JlYXRlID0gdHJ1ZTtcbiAgICBjb25zdCBzZWxlY3RvclByZWZpeCA9IHRoaXMuZ2V0UHJlZml4U2VsZWN0b3IodXNlUHJlZml4Rm9yQ3JlYXRlKTtcblxuICAgICQoJyNzcGVjaWZpY19wcmljZV9mb3JtIC5qcy1jYW5jZWwnKS5jbGljaygoKSA9PiB7XG4gICAgICB0aGlzLnJlc2V0Q3JlYXRlUHJpY2VGb3JtRGVmYXVsdFZhbHVlcygpO1xuICAgICAgJCgnI3NwZWNpZmljX3ByaWNlX2Zvcm0nKS5jb2xsYXBzZSgnaGlkZScpO1xuICAgIH0pO1xuXG4gICAgJCgnI3NwZWNpZmljX3ByaWNlX2Zvcm0gLmpzLXNhdmUnKS5vbihcbiAgICAgICdjbGljaycsXG4gICAgICAoKSA9PiB0aGlzLnN1Ym1pdENyZWF0ZVByaWNlRm9ybSgpLFxuICAgICk7XG5cbiAgICAkKCcjanMtb3Blbi1jcmVhdGUtc3BlY2lmaWMtcHJpY2UtZm9ybScpLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICgpID0+IHRoaXMubG9hZEFuZEZpbGxPcHRpb25zRm9yU2VsZWN0Q29tYmluYXRpb25JbnB1dCh1c2VQcmVmaXhGb3JDcmVhdGUpLFxuICAgICk7XG5cbiAgICAkKGAke3NlbGVjdG9yUHJlZml4fWxlYXZlX2JwcmljZWApLm9uKFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICgpID0+IHRoaXMuZW5hYmxlU3BlY2lmaWNQcmljZUZpZWxkSWZFbGlnaWJsZSh1c2VQcmVmaXhGb3JDcmVhdGUpLFxuICAgICk7XG5cbiAgICAkKGAke3NlbGVjdG9yUHJlZml4fXNwX3JlZHVjdGlvbl90eXBlYCkub24oXG4gICAgICAnY2hhbmdlJyxcbiAgICAgICgpID0+IHRoaXMuZW5hYmxlU3BlY2lmaWNQcmljZVRheEZpZWxkSWZFbGlnaWJsZSh1c2VQcmVmaXhGb3JDcmVhdGUpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbmZpZ3VyZUVkaXRQcmljZUZvcm1JbnNpZGVNb2RhbEJlaGF2aW9yKCkge1xuICAgIGNvbnN0IHVzZVByZWZpeEZvckNyZWF0ZSA9IGZhbHNlO1xuICAgIGNvbnN0IHNlbGVjdG9yUHJlZml4ID0gdGhpcy5nZXRQcmVmaXhTZWxlY3Rvcih1c2VQcmVmaXhGb3JDcmVhdGUpO1xuXG4gICAgJCgnI2Zvcm1fbW9kYWxfY2FuY2VsJykuY2xpY2soKCkgPT4gdGhpcy5jbG9zZUVkaXRQcmljZU1vZGFsQW5kUmVtb3ZlRm9ybSgpKTtcbiAgICAkKCcjZm9ybV9tb2RhbF9jbG9zZScpLmNsaWNrKCgpID0+IHRoaXMuY2xvc2VFZGl0UHJpY2VNb2RhbEFuZFJlbW92ZUZvcm0oKSk7XG5cbiAgICAkKCcjZm9ybV9tb2RhbF9zYXZlJykuY2xpY2soKCkgPT4gdGhpcy5zdWJtaXRFZGl0UHJpY2VGb3JtKCkpO1xuXG4gICAgdGhpcy5sb2FkQW5kRmlsbE9wdGlvbnNGb3JTZWxlY3RDb21iaW5hdGlvbklucHV0KHVzZVByZWZpeEZvckNyZWF0ZSk7XG5cbiAgICAkKGAke3NlbGVjdG9yUHJlZml4fWxlYXZlX2JwcmljZWApLm9uKCdjbGljaycsICgpID0+IHRoaXMuZW5hYmxlU3BlY2lmaWNQcmljZUZpZWxkSWZFbGlnaWJsZSh1c2VQcmVmaXhGb3JDcmVhdGUpKTtcblxuICAgICQoYCR7c2VsZWN0b3JQcmVmaXh9c3BfcmVkdWN0aW9uX3R5cGVgKS5vbihcbiAgICAgICdjaGFuZ2UnLFxuICAgICAgKCkgPT4gdGhpcy5lbmFibGVTcGVjaWZpY1ByaWNlVGF4RmllbGRJZkVsaWdpYmxlKHVzZVByZWZpeEZvckNyZWF0ZSksXG4gICAgKTtcblxuICAgIHRoaXMucmVpbml0aWFsaXplRGF0ZVBpY2tlcnMoKTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZUxlYXZlQlByaWNlRmllbGQodXNlUHJlZml4Rm9yQ3JlYXRlKTtcbiAgICB0aGlzLmVuYWJsZVNwZWNpZmljUHJpY2VUYXhGaWVsZElmRWxpZ2libGUodXNlUHJlZml4Rm9yQ3JlYXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVpbml0aWFsaXplRGF0ZVBpY2tlcnMoKSB7XG4gICAgJCgnLmRhdGVwaWNrZXIgaW5wdXQnKS5kYXRldGltZXBpY2tlcih7Zm9ybWF0OiAnWVlZWS1NTS1ERCd9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gYm9vbGVhbiB1c2VQcmVmaXhGb3JDcmVhdGVcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGluaXRpYWxpemVMZWF2ZUJQcmljZUZpZWxkKHVzZVByZWZpeEZvckNyZWF0ZSkge1xuICAgIGNvbnN0IHNlbGVjdG9yUHJlZml4ID0gdGhpcy5nZXRQcmVmaXhTZWxlY3Rvcih1c2VQcmVmaXhGb3JDcmVhdGUpO1xuXG4gICAgaWYgKCQoYCR7c2VsZWN0b3JQcmVmaXh9c3BfcHJpY2VgKS52YWwoKSAhPT0gJycpIHtcbiAgICAgICQoYCR7c2VsZWN0b3JQcmVmaXh9c3BfcHJpY2VgKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICQoYCR7c2VsZWN0b3JQcmVmaXh9bGVhdmVfYnByaWNlYCkucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbmZpZ3VyZUVkaXRQcmljZU1vZGFsQmVoYXZpb3IoKSB7XG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNqcy1zcGVjaWZpYy1wcmljZS1saXN0IC5qcy1lZGl0JywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCBzcGVjaWZpY1ByaWNlSWQgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3NwZWNpZmljUHJpY2VJZCcpO1xuXG4gICAgICB0aGlzLm9wZW5FZGl0UHJpY2VNb2RhbEFuZExvYWRGb3JtKHNwZWNpZmljUHJpY2VJZCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbmZpZ3VyZURlbGV0ZVByaWNlQnV0dG9uc0JlaGF2aW9yKCkge1xuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjanMtc3BlY2lmaWMtcHJpY2UtbGlzdCAuanMtZGVsZXRlJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5kZWxldGVTcGVjaWZpY1ByaWNlKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIH0pO1xuICB9XG5cbiAgY29uZmlndXJlTXVsdGlwbGVNb2RhbHNCZWhhdmlvcigpIHtcbiAgICAkKCcubW9kYWwnKS5vbignaGlkZGVuLmJzLm1vZGFsJywgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZWRpdE1vZGFsSXNPcGVuKSB7XG4gICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnbW9kYWwtb3BlbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdWJtaXRDcmVhdGVQcmljZUZvcm0oKSB7XG4gICAgY29uc3QgdXJsID0gJCgnI3NwZWNpZmljX3ByaWNlX2Zvcm0nKS5hdHRyKCdkYXRhLWFjdGlvbicpO1xuICAgIGNvbnN0IGRhdGEgPSAkKCcjc3BlY2lmaWNfcHJpY2VfZm9ybSBpbnB1dCwgI3NwZWNpZmljX3ByaWNlX2Zvcm0gc2VsZWN0LCAjZm9ybV9pZF9wcm9kdWN0Jykuc2VyaWFsaXplKCk7XG5cbiAgICAkKCcjc3BlY2lmaWNfcHJpY2VfZm9ybSAuanMtc2F2ZScpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgdXJsLFxuICAgICAgZGF0YSxcbiAgICB9KS5kb25lKCgpID0+IHtcbiAgICAgIHdpbmRvdy5zaG93U3VjY2Vzc01lc3NhZ2Uod2luZG93LnRyYW5zbGF0ZV9qYXZhc2NyaXB0c1snRm9ybSB1cGRhdGUgc3VjY2VzcyddKTtcbiAgICAgIHRoaXMucmVzZXRDcmVhdGVQcmljZUZvcm1EZWZhdWx0VmFsdWVzKCk7XG4gICAgICAkKCcjc3BlY2lmaWNfcHJpY2VfZm9ybScpLmNvbGxhcHNlKCdoaWRlJyk7XG4gICAgICB0aGlzLmxvYWRBbmREaXNwbGF5RXhpc3RpbmdTcGVjaWZpY1ByaWNlc0xpc3QoKTtcblxuICAgICAgJCgnI3NwZWNpZmljX3ByaWNlX2Zvcm0gLmpzLXNhdmUnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgIH0pLmZhaWwoKGVycm9ycykgPT4ge1xuICAgICAgd2luZG93LnNob3dFcnJvck1lc3NhZ2UoZXJyb3JzLnJlc3BvbnNlSlNPTik7XG5cbiAgICAgICQoJyNzcGVjaWZpY19wcmljZV9mb3JtIC5qcy1zYXZlJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3VibWl0RWRpdFByaWNlRm9ybSgpIHtcbiAgICBjb25zdCBiYXNlVXJsID0gJCgnI2VkaXQtc3BlY2lmaWMtcHJpY2UtbW9kYWwtZm9ybScpLmF0dHIoJ2RhdGEtYWN0aW9uJyk7XG4gICAgY29uc3Qgc3BlY2lmaWNQcmljZUlkID0gJCgnI2VkaXQtc3BlY2lmaWMtcHJpY2UtbW9kYWwtZm9ybScpLmRhdGEoJ3NwZWNpZmljUHJpY2VJZCcpO1xuICAgIGNvbnN0IHVybCA9IGJhc2VVcmwucmVwbGFjZSgvdXBkYXRlXFwvXFxkKy8sIGB1cGRhdGUvJHtzcGVjaWZpY1ByaWNlSWR9YCk7XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlbiAqL1xuICAgIGNvbnN0IGRhdGEgPSAkKCcjZWRpdC1zcGVjaWZpYy1wcmljZS1tb2RhbC1mb3JtIGlucHV0LCAjZWRpdC1zcGVjaWZpYy1wcmljZS1tb2RhbC1mb3JtIHNlbGVjdCwgI2Zvcm1faWRfcHJvZHVjdCcpLnNlcmlhbGl6ZSgpO1xuXG4gICAgJCgnI2VkaXQtc3BlY2lmaWMtcHJpY2UtbW9kYWwtZm9ybSAuanMtc2F2ZScpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgdXJsLFxuICAgICAgZGF0YSxcbiAgICB9KVxuICAgICAgLmRvbmUoKCkgPT4ge1xuICAgICAgICB3aW5kb3cuc2hvd1N1Y2Nlc3NNZXNzYWdlKHdpbmRvdy50cmFuc2xhdGVfamF2YXNjcmlwdHNbJ0Zvcm0gdXBkYXRlIHN1Y2Nlc3MnXSk7XG4gICAgICAgIHRoaXMuY2xvc2VFZGl0UHJpY2VNb2RhbEFuZFJlbW92ZUZvcm0oKTtcbiAgICAgICAgdGhpcy5sb2FkQW5kRGlzcGxheUV4aXN0aW5nU3BlY2lmaWNQcmljZXNMaXN0KCk7XG4gICAgICAgICQoJyNlZGl0LXNwZWNpZmljLXByaWNlLW1vZGFsLWZvcm0gLmpzLXNhdmUnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgfSlcbiAgICAgIC5mYWlsKChlcnJvcnMpID0+IHtcbiAgICAgICAgd2luZG93LnNob3dFcnJvck1lc3NhZ2UoZXJyb3JzLnJlc3BvbnNlSlNPTik7XG5cbiAgICAgICAgJCgnI2VkaXQtc3BlY2lmaWMtcHJpY2UtbW9kYWwtZm9ybSAuanMtc2F2ZScpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gc3RyaW5nIGNsaWNrZWRMaW5rIHNlbGVjdG9yXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkZWxldGVTcGVjaWZpY1ByaWNlKGNsaWNrZWRMaW5rKSB7XG4gICAgd2luZG93Lm1vZGFsQ29uZmlybWF0aW9uLmNyZWF0ZShcbiAgICAgIHdpbmRvdy50cmFuc2xhdGVfamF2YXNjcmlwdHNbJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBpdGVtPyddLFxuICAgICAgbnVsbCxcbiAgICAgIHtcbiAgICAgICAgb25Db250aW51ZTogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVybCA9ICQoY2xpY2tlZExpbmspLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAkKGNsaWNrZWRMaW5rKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuXG4gICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgIH0pLmRvbmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvYWRBbmREaXNwbGF5RXhpc3RpbmdTcGVjaWZpY1ByaWNlc0xpc3QoKTtcbiAgICAgICAgICAgIHdpbmRvdy5zaG93U3VjY2Vzc01lc3NhZ2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgJChjbGlja2VkTGluaykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICB9KS5mYWlsKChlcnJvcnMpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5zaG93RXJyb3JNZXNzYWdlKGVycm9ycy5yZXNwb25zZUpTT04pO1xuICAgICAgICAgICAgJChjbGlja2VkTGluaykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgKS5zaG93KCk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcmUgJ2FkZCBzcGVjaWZpYyBwcmljZScgZm9ybSB2YWx1ZXNcbiAgICogZm9yIGZ1dHVyZSB1c2FnZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RvcmVQcmljZUZvcm1EZWZhdWx0VmFsdWVzKCkge1xuICAgIGNvbnN0IHN0b3JhZ2UgPSB0aGlzLiRjcmVhdGVQcmljZUZvcm1EZWZhdWx0VmFsdWVzO1xuXG4gICAgJCgnI3NwZWNpZmljX3ByaWNlX2Zvcm0nKS5maW5kKCdzZWxlY3QsaW5wdXQnKS5lYWNoKChpbmRleCwgdmFsdWUpID0+IHtcbiAgICAgIHN0b3JhZ2VbJCh2YWx1ZSkuYXR0cignaWQnKV0gPSAkKHZhbHVlKS52YWwoKTtcbiAgICB9KTtcblxuICAgICQoJyNzcGVjaWZpY19wcmljZV9mb3JtJykuZmluZCgnaW5wdXQ6Y2hlY2tib3gnKS5lYWNoKChpbmRleCwgdmFsdWUpID0+IHtcbiAgICAgIHN0b3JhZ2VbJCh2YWx1ZSkuYXR0cignaWQnKV0gPSAkKHZhbHVlKS5wcm9wKCdjaGVja2VkJyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiRjcmVhdGVQcmljZUZvcm1EZWZhdWx0VmFsdWVzID0gc3RvcmFnZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gYm9vbGVhbiB1c2VQcmVmaXhGb3JDcmVhdGVcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGxvYWRBbmRGaWxsT3B0aW9uc0ZvclNlbGVjdENvbWJpbmF0aW9uSW5wdXQodXNlUHJlZml4Rm9yQ3JlYXRlKSB7XG4gICAgY29uc3Qgc2VsZWN0b3JQcmVmaXggPSB0aGlzLmdldFByZWZpeFNlbGVjdG9yKHVzZVByZWZpeEZvckNyZWF0ZSk7XG5cbiAgICBjb25zdCBpbnB1dEZpZWxkID0gJChgJHtzZWxlY3RvclByZWZpeH1zcF9pZF9wcm9kdWN0X2F0dHJpYnV0ZWApO1xuICAgIGNvbnN0IHVybCA9IGlucHV0RmllbGRcbiAgICAgIC5hdHRyKCdkYXRhLWFjdGlvbicpXG4gICAgICAucmVwbGFjZSgvcHJvZHVjdC1jb21iaW5hdGlvbnNcXC9cXGQrLywgYHByb2R1Y3QtY29tYmluYXRpb25zLyR7dGhpcy5nZXRQcm9kdWN0SWQoKX1gKTtcblxuICAgICQuYWpheCh7XG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHVybCxcbiAgICB9KS5kb25lKChjb21iaW5hdGlvbnMpID0+IHtcbiAgICAgIC8qKiByZW1vdmUgYWxsIG9wdGlvbnMgZXhjZXB0IGZpcnN0IG9uZSAqL1xuICAgICAgaW5wdXRGaWVsZC5maW5kKCdvcHRpb246Z3QoMCknKS5yZW1vdmUoKTtcblxuICAgICAgJC5lYWNoKGNvbWJpbmF0aW9ucywgKGluZGV4LCBjb21iaW5hdGlvbikgPT4ge1xuICAgICAgICBpbnB1dEZpZWxkLmFwcGVuZChgPG9wdGlvbiB2YWx1ZT1cIiR7Y29tYmluYXRpb24uaWR9XCI+JHtjb21iaW5hdGlvbi5uYW1lfTwvb3B0aW9uPmApO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChpbnB1dEZpZWxkLmRhdGEoJ3NlbGVjdGVkQXR0cmlidXRlJykgIT09ICcwJykge1xuICAgICAgICBpbnB1dEZpZWxkLnZhbChpbnB1dEZpZWxkLmRhdGEoJ3NlbGVjdGVkQXR0cmlidXRlJykpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBib29sZWFuIHVzZVByZWZpeEZvckNyZWF0ZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW5hYmxlU3BlY2lmaWNQcmljZVRheEZpZWxkSWZFbGlnaWJsZSh1c2VQcmVmaXhGb3JDcmVhdGUpIHtcbiAgICBjb25zdCBzZWxlY3RvclByZWZpeCA9IHRoaXMuZ2V0UHJlZml4U2VsZWN0b3IodXNlUHJlZml4Rm9yQ3JlYXRlKTtcblxuICAgIGlmICgkKGAke3NlbGVjdG9yUHJlZml4fXNwX3JlZHVjdGlvbl90eXBlYCkudmFsKCkgPT09ICdwZXJjZW50YWdlJykge1xuICAgICAgJChgJHtzZWxlY3RvclByZWZpeH1zcF9yZWR1Y3Rpb25fdGF4YCkuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKGAke3NlbGVjdG9yUHJlZml4fXNwX3JlZHVjdGlvbl90YXhgKS5zaG93KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0ICdhZGQgc3BlY2lmaWMgcHJpY2UnIGZvcm0gdmFsdWVzXG4gICAqIHVzaW5nIHByZXZpb3VzbHkgc3RvcmVkIGRlZmF1bHQgdmFsdWVzXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXNldENyZWF0ZVByaWNlRm9ybURlZmF1bHRWYWx1ZXMoKSB7XG4gICAgY29uc3QgcHJldmlvdXNseVN0b3JlZFZhbHVlcyA9IHRoaXMuJGNyZWF0ZVByaWNlRm9ybURlZmF1bHRWYWx1ZXM7XG5cbiAgICAkKCcjc3BlY2lmaWNfcHJpY2VfZm9ybScpLmZpbmQoJ2lucHV0JykuZWFjaCgoaW5kZXgsIHZhbHVlKSA9PiB7XG4gICAgICAkKHZhbHVlKS52YWwocHJldmlvdXNseVN0b3JlZFZhbHVlc1skKHZhbHVlKS5hdHRyKCdpZCcpXSk7XG4gICAgfSk7XG5cbiAgICAkKCcjc3BlY2lmaWNfcHJpY2VfZm9ybScpLmZpbmQoJ3NlbGVjdCcpLmVhY2goKGluZGV4LCB2YWx1ZSkgPT4ge1xuICAgICAgJCh2YWx1ZSkudmFsKHByZXZpb3VzbHlTdG9yZWRWYWx1ZXNbJCh2YWx1ZSkuYXR0cignaWQnKV0pLmNoYW5nZSgpO1xuICAgIH0pO1xuXG4gICAgJCgnI3NwZWNpZmljX3ByaWNlX2Zvcm0nKS5maW5kKCdpbnB1dDpjaGVja2JveCcpLmVhY2goKGluZGV4LCB2YWx1ZSkgPT4ge1xuICAgICAgJCh2YWx1ZSkucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBib29sZWFuIHVzZVByZWZpeEZvckNyZWF0ZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW5hYmxlU3BlY2lmaWNQcmljZUZpZWxkSWZFbGlnaWJsZSh1c2VQcmVmaXhGb3JDcmVhdGUpIHtcbiAgICBjb25zdCBzZWxlY3RvclByZWZpeCA9IHRoaXMuZ2V0UHJlZml4U2VsZWN0b3IodXNlUHJlZml4Rm9yQ3JlYXRlKTtcblxuICAgICQoYCR7c2VsZWN0b3JQcmVmaXh9c3BfcHJpY2VgKS5wcm9wKCdkaXNhYmxlZCcsICQoYCR7c2VsZWN0b3JQcmVmaXh9bGVhdmVfYnByaWNlYCkuaXMoJzpjaGVja2VkJykpLnZhbCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogT3BlbiAnZWRpdCBzcGVjaWZpYyBwcmljZScgZm9ybSBpbnRvIGEgbW9kYWxcbiAgICpcbiAgICogQHBhcmFtIGludGVnZXIgc3BlY2lmaWNQcmljZUlkXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvcGVuRWRpdFByaWNlTW9kYWxBbmRMb2FkRm9ybShzcGVjaWZpY1ByaWNlSWQpIHtcbiAgICBjb25zdCB1cmwgPSAkKCcjanMtc3BlY2lmaWMtcHJpY2UtbGlzdCcpLmRhdGEoJ2FjdGlvbkVkaXQnKS5yZXBsYWNlKC9mb3JtXFwvXFxkKy8sIGBmb3JtLyR7c3BlY2lmaWNQcmljZUlkfWApO1xuXG4gICAgJCgnI2VkaXQtc3BlY2lmaWMtcHJpY2UtbW9kYWwnKS5tb2RhbCgnc2hvdycpO1xuICAgIHRoaXMuZWRpdE1vZGFsSXNPcGVuID0gdHJ1ZTtcblxuICAgICQuYWpheCh7XG4gICAgICB0eXBlOiAnR0VUJyxcbiAgICAgIHVybCxcbiAgICB9KVxuICAgICAgLmRvbmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHRoaXMuaW5zZXJ0RWRpdFNwZWNpZmljUHJpY2VGb3JtSW50b01vZGFsKHJlc3BvbnNlKTtcbiAgICAgICAgJCgnI2VkaXQtc3BlY2lmaWMtcHJpY2UtbW9kYWwtZm9ybScpLmRhdGEoJ3NwZWNpZmljUHJpY2VJZCcsIHNwZWNpZmljUHJpY2VJZCk7XG4gICAgICAgIHRoaXMuY29uZmlndXJlRWRpdFByaWNlRm9ybUluc2lkZU1vZGFsQmVoYXZpb3IoKTtcbiAgICAgIH0pXG4gICAgICAuZmFpbCgoZXJyb3JzKSA9PiB7XG4gICAgICAgIHdpbmRvdy5zaG93RXJyb3JNZXNzYWdlKGVycm9ycy5yZXNwb25zZUpTT04pO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNsb3NlRWRpdFByaWNlTW9kYWxBbmRSZW1vdmVGb3JtKCkge1xuICAgICQoJyNlZGl0LXNwZWNpZmljLXByaWNlLW1vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICB0aGlzLmVkaXRNb2RhbElzT3BlbiA9IGZhbHNlO1xuXG4gICAgY29uc3QgZm9ybUxvY2F0aW9uSG9sZGVyID0gJCgnI2VkaXQtc3BlY2lmaWMtcHJpY2UtbW9kYWwtZm9ybScpO1xuXG4gICAgZm9ybUxvY2F0aW9uSG9sZGVyLmVtcHR5KCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHN0cmluZyBmb3JtOiBIVE1MICdlZGl0IHNwZWNpZmljIHByaWNlJyBmb3JtXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpbnNlcnRFZGl0U3BlY2lmaWNQcmljZUZvcm1JbnRvTW9kYWwoZm9ybSkge1xuICAgIGNvbnN0IGZvcm1Mb2NhdGlvbkhvbGRlciA9ICQoJyNlZGl0LXNwZWNpZmljLXByaWNlLW1vZGFsLWZvcm0nKTtcblxuICAgIGZvcm1Mb2NhdGlvbkhvbGRlci5lbXB0eSgpO1xuICAgIGZvcm1Mb2NhdGlvbkhvbGRlci5hcHBlbmQoZm9ybSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHByb2R1Y3QgSUQgZm9yIGN1cnJlbnQgQ2F0YWxvZyBQcm9kdWN0IHBhZ2VcbiAgICpcbiAgICogQHJldHVybnMgaW50ZWdlclxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UHJvZHVjdElkKCkge1xuICAgIHJldHVybiAkKCcjZm9ybV9pZF9wcm9kdWN0JykudmFsKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGJvb2xlYW4gdXNlUHJlZml4Rm9yQ3JlYXRlXG4gICAqXG4gICAqIEByZXR1cm5zIHN0cmluZ1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UHJlZml4U2VsZWN0b3IodXNlUHJlZml4Rm9yQ3JlYXRlKSB7XG4gICAgaWYgKHVzZVByZWZpeEZvckNyZWF0ZSkge1xuICAgICAgcmV0dXJuIGAjJHt0aGlzLnByZWZpeENyZWF0ZUZvcm19YDtcbiAgICB9XG5cbiAgICByZXR1cm4gYCMke3RoaXMucHJlZml4RWRpdEZvcm19YDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGVjaWZpY1ByaWNlRm9ybUhhbmRsZXI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTsiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpIHtcbiAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHsgdmVyc2lvbjogJzIuNi4xMScgfTtcbmlmICh0eXBlb2YgX19lID09ICdudW1iZXInKSBfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG4iLCIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyICRleHBvcnQgPSBmdW5jdGlvbiAodHlwZSwgbmFtZSwgc291cmNlKSB7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GO1xuICB2YXIgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRztcbiAgdmFyIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlM7XG4gIHZhciBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlA7XG4gIHZhciBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQjtcbiAgdmFyIElTX1dSQVAgPSB0eXBlICYgJGV4cG9ydC5XO1xuICB2YXIgZXhwb3J0cyA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pO1xuICB2YXIgZXhwUHJvdG8gPSBleHBvcnRzW1BST1RPVFlQRV07XG4gIHZhciB0YXJnZXQgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdO1xuICB2YXIga2V5LCBvd24sIG91dDtcbiAgaWYgKElTX0dMT0JBTCkgc291cmNlID0gbmFtZTtcbiAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICBpZiAob3duICYmIGhhcyhleHBvcnRzLCBrZXkpKSBjb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uIChDKSB7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgQykge1xuICAgICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEMoKTtcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEMoYSwgYik7XG4gICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG4gICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG4gICAgaWYgKElTX1BST1RPKSB7XG4gICAgICAoZXhwb3J0cy52aXJ0dWFsIHx8IChleHBvcnRzLnZpcnR1YWwgPSB7fSkpW2tleV0gPSBvdXQ7XG4gICAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJVxuICAgICAgaWYgKHR5cGUgJiAkZXhwb3J0LlIgJiYgZXhwUHJvdG8gJiYgIWV4cFByb3RvW2tleV0pIGhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTtcbiAgICB9XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG4iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZiAodHlwZW9mIF9fZyA9PSAnbnVtYmVyJykgX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuIiwidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdkaXYnKSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuIiwidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgZFAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZTogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfTtcbn07XG4iLCIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgUykge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICh0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG4iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7IGRlZmluZVByb3BlcnR5OiByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mIH0pO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cblxuaW1wb3J0IFNwZWNpZmljUHJpY2VGb3JtSGFuZGxlciBmcm9tICcuL3NwZWNpZmljLXByaWNlLWZvcm0taGFuZGxlcic7XG5cbmNvbnN0IHskfSA9IHdpbmRvdztcblxuJCgoKSA9PiB7XG4gIG5ldyBTcGVjaWZpY1ByaWNlRm9ybUhhbmRsZXIoKTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==